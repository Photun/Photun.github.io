<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PepTunes Admin — Dashboard</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="topbar">
<h1>PepTunes — Admin Dashboard</h1>
<div id="userControls"></div>
</header>


<main class="container">
<div id="authBox" class="card">
<h2>Admin sign in</h2>
<form id="loginForm">
<label>Email<input id="email" type="email" required></label>
<label>Password<input id="password" type="password" required></label>
<div class="row">
<button class="btn" id="signIn">Sign In</button>
<button class="btn ghost" id="signUp">Create Admin Account</button>
</div>
<div class="info" id="authMsg"></div>
</form>
</div>


<div id="dashboard" class="hidden">
<section class="card">
<h2>My Bands</h2>
<div id="createBandRow">
<input id="newBandName" placeholder="Band name (e.g. West HS Pep)"/>
<button id="createBandBtn" class="btn">Create Band</button>
</div>
<ul id="bandsList"></ul>
</section>


<section id="bandEditor" class="card hidden">
<h2 id="bandTitle">Band: </h2>
<p>Join code: <strong id="bandJoinCode"></strong> &nbsp; Secret name: <input id="secretNameInput" /> <button id="saveSecret" class="btn small">Save</button></p>
<p>Session active: <label class="switch"><input id="sessionToggle" type="checkbox"><span class="slider"></span></label></p>
<h3>Members</h3>
<ul id="membersList"></ul>
<div class="note">To set a drum major, click a member's "Set Drum Major" button. The UI shows names (mapping to their uid).</div>
</section>
</div>


<div id="adminOnlyMsg" class="card hidden">
<h3>Not an admin</h3>
<p>Your account is not marked as an admin. Add your uid under <code>/admins/&lt;uid&gt;: true</code> in the RTDB or ask the project owner to grant admin access.</p>
</div>


</main>


<script type="module" src="firebase-config.js"></script>
<script type="module" src="auth.js"></script>
<script type="module" src="utils.js"></script>
<script type="module" src="admin.js"></script>
</body>
</html>
